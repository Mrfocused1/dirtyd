<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Dirty Den | The Menu</title>

<script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Anton&family=Permanent+Marker&family=Rubik+Glitch&family=Bebas+Neue&family=Roboto+Mono:wght@400;700&family=Stardos+Stencil:wght@700&display=swap" rel="stylesheet"/>

<script>
tailwind.config = {
    darkMode: "class",
    theme: {
        extend: {
            colors: {
                /* v1 colours */
                primary:            "#F25C24",
                "dirty-cream":      "#F0EAD6",
                "background-light": "#0B1526",
                "background-dark":  "#050A14",
                "navy-base":        "#0B1526",
                "menu-yellow":      "#E8A800",
                /* v2 colours (used by swapped sections) */
                navy:   "#07070b",
                ink:    "#111118",
                cream:  "#f0ebd8",
                orange: "#e85d04",
                dirt:   "#2a2a35",
            },
            fontFamily: {
                display: ['"Anton"', 'sans-serif'],
                marker:  ['"Permanent Marker"', 'cursive'],
                glitch:  ['"Rubik Glitch"', 'display'],
                body:    ['"Roboto Mono"', 'monospace'],
                mono:    ['"Roboto Mono"', 'monospace'],
            },
        },
    },
};
</script>

<style>
/* ── v1 styles (nav / hero / ticker / category bar) ── */
.cat-pill {
    font-family: 'Anton', sans-serif;
    font-size: 0.8rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    padding: 8px 18px;
    border: 2px solid rgba(11, 21, 38, 0.25);
    color: rgba(11, 21, 38, 0.55);
    transition: all 0.2s ease;
    white-space: nowrap;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
}
.cat-pill:hover,
.cat-pill.active {
    background: #F25C24;
    border-color: #F25C24;
    color: #0B1526;
}
html { scroll-behavior: smooth; }
section[id] { scroll-margin-top: 120px; }

@keyframes marquee {
    0%   { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}
.animate-marquee { animation: marquee 25s linear infinite; }

/* ── v2 section styles ── */
.poster-card {
    background-color: #ffffff;
    border: 1px solid #c8bfa8;
    position: relative;
    box-shadow: 5px 5px 15px rgba(0,0,0,0.12), inset 0 0 40px rgba(0,0,0,0.02);
    border-radius: 2px 3px 2px 4px;
}
.poster-card-dark {
    background-color: #111118 !important;
    border-color: #2a2a35 !important;
    box-shadow: 5px 5px 15px rgba(0,0,0,0.8), inset 0 0 40px rgba(0,0,0,0.5) !important;
}
.tape {
    position: absolute;
    background-color: rgba(255,255,255,0.15);
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    backdrop-filter: blur(2px);
    background-image: linear-gradient(90deg, transparent 50%, rgba(255,255,255,0.05) 50%);
    background-size: 4px 100%;
}
.tape-tl { top:-10px; left:-15px;  width:80px;  height:25px; transform:rotate(-15deg); }
.tape-tr { top:-10px; right:-15px; width:80px;  height:25px; transform:rotate(15deg); }
.tape-tc { top:-10px; left:50%;    width:100px; height:30px; transform:translateX(-50%) rotate(-2deg); }

.menu-leader {
    flex-grow: 1;
    border-bottom: 2px dotted #c8bfa8;
    margin: 0 15px;
    position: relative;
    top: -6px;
}
.draw-line {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
}
.print-offset {
    text-shadow: 2px 2px 0 rgba(232,93,4,0.6), -2px -1px 0 rgba(0,0,0,0.8);
}
</style>
</head>
<body class="bg-dirty-cream text-navy-base font-body overflow-x-hidden">

<!-- NAV -->
<nav class="fixed w-full z-40 top-0 left-0 bg-navy-base/95 backdrop-blur-sm border-b-2 border-primary border-opacity-30">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
            <div class="flex-shrink-0 flex items-center">
                <a href="/"><img src="logo.png" alt="Dirty Den" class="h-28 w-auto rounded-sm"/></a>
            </div>
            <div class="hidden md:flex space-x-8 items-center">
                <a class="text-dirty-cream hover:text-primary transition-colors font-bold uppercase tracking-wider text-sm" href="/">Home</a>
                <a class="text-primary font-bold uppercase tracking-wider text-sm border-b-2 border-primary pb-0.5" href="/menu">Menu</a>
                <a class="text-dirty-cream hover:text-primary transition-colors font-bold uppercase tracking-wider text-sm" href="/contact">Contact</a>
                <a class="bg-primary text-navy-base px-6 py-2 font-display uppercase tracking-widest text-lg transform hover:-rotate-1 transition-transform border-2 border-transparent hover:border-dirty-cream" href="#order">Order Now</a>
            </div>
            <div class="md:hidden flex items-center">
                <button id="mobile-menu-btn" class="text-dirty-cream hover:text-primary">
                    <span class="material-icons text-3xl">menu</span>
                </button>
            </div>
        </div>
        <!-- MOBILE NAV -->
        <div id="mobile-menu" class="hidden border-t border-primary/30 pb-4">
            <a class="block py-3 text-dirty-cream hover:text-primary transition-colors font-bold uppercase tracking-wider text-sm border-b border-dirty-cream/10" href="/">Home</a>
            <a class="block py-3 text-primary font-bold uppercase tracking-wider text-sm border-b border-dirty-cream/10 border-l-2 border-l-primary pl-2">Menu</a>
            <a class="block py-3 text-dirty-cream hover:text-primary transition-colors font-bold uppercase tracking-wider text-sm border-b border-dirty-cream/10" href="/contact">Contact</a>
            <a class="block mt-3 text-center bg-primary text-navy-base px-6 py-3 font-display uppercase tracking-widest text-base" href="#order">Order Now</a>
        </div>
    </div>
</nav>

<!-- HERO QUOTE BANNER -->
<div class="pt-20">
    <div class="relative overflow-hidden bg-dirty-cream px-6 py-16 md:py-24 text-center border-b-4 border-primary/20">
        <!-- Background video -->
        <video class="absolute inset-0 w-full h-full object-cover opacity-20" autoplay muted loop playsinline>
            <source src="https://videos.pexels.com/video-files/5780551/5780551-hd_1920_1080_24fps.mp4" type="video/mp4"/>
        </video>
        <div class="absolute inset-0 bg-dirty-cream/60"></div>
        <p class="absolute inset-0 flex items-center justify-center font-display text-[20vw] text-navy-base/[0.04] uppercase select-none pointer-events-none leading-none">GRIME</p>
        <div class="relative z-10 max-w-3xl mx-auto">
            <div class="inline-block border-l-4 border-primary pl-5 text-left mb-8">
                <p class="font-display text-3xl md:text-5xl text-navy-base uppercase leading-snug">
                    Born in Bow.<br/>Raised on bass.
                </p>
            </div>
            <p class="font-display text-xl md:text-3xl text-navy-base/60 uppercase leading-snug mb-6">
                Where pub culture meets pirate radio.
            </p>
            <p class="font-display text-2xl md:text-4xl text-primary uppercase tracking-wide">
                No clean plates. No quiet nights.
            </p>
        </div>
        <div class="absolute bottom-5 left-8 opacity-10 transform -rotate-6 hidden lg:block">
            <p class="font-marker text-6xl text-primary">E3</p>
        </div>
        <div class="absolute top-8 right-10 opacity-[0.06] hidden lg:block">
            <p class="font-display text-8xl text-navy-base">140</p>
        </div>
    </div>
</div>

<!-- ORANGE TICKER -->
<div class="bg-primary py-2.5 overflow-hidden border-y-4 border-navy-base relative z-10">
    <div class="whitespace-nowrap animate-marquee inline-block font-display text-xl text-navy-base uppercase tracking-widest">
        SIGNATURES /// DIRTY FRIES /// WINGS & BITES /// SUNDAY ROAST /// COCKTAILS /// AFTERS /// SIGNATURES /// DIRTY FRIES /// WINGS & BITES /// SUNDAY ROAST /// COCKTAILS /// AFTERS ///&nbsp;
        SIGNATURES /// DIRTY FRIES /// WINGS & BITES /// SUNDAY ROAST /// COCKTAILS /// AFTERS /// SIGNATURES /// DIRTY FRIES /// WINGS & BITES /// SUNDAY ROAST /// COCKTAILS /// AFTERS ///
    </div>
</div>

<!-- STICKY CATEGORY NAV -->
<div class="sticky top-20 z-30 bg-dirty-cream/98 backdrop-blur-sm border-b-2 border-navy-base/20">
    <div class="max-w-4xl mx-auto px-4 overflow-x-auto">
        <div class="flex gap-2 py-3 min-w-max">
            <a href="#signatures" class="cat-pill active" data-target="signatures">Signatures</a>
            <a href="#s06-fries"  class="cat-pill"        data-target="s06-fries">Dirty Fries</a>
            <a href="#wings"        class="cat-pill"        data-target="wings">Wings &amp; Bites</a>
            <a href="#sunday-roast" class="cat-pill"      data-target="sunday-roast">Sunday Roast</a>
            <a href="#drinks"       class="cat-pill"      data-target="drinks">Drinks</a>
            <a href="#afters"     class="cat-pill"        data-target="afters">Afters</a>
            <a href="#order"      class="cat-pill"        data-target="order">Order</a>
        </div>
    </div>
</div>

<!-- ═══════════════ MENU SECTIONS ═══════════════ -->
<main>

    <!-- ══ SIGNATURES ══ -->
    <section id="signatures" class="py-24 relative" style="scroll-margin-top:120px;">
        <div class="max-w-4xl mx-auto px-6">
            <div class="poster-card p-8 md:p-12 transform rotate-1">
                <div class="tape tape-tl"></div>
                <div class="tape tape-tr"></div>

                <div class="border-b-4 border-orange pb-4 mb-8 flex justify-between items-end">
                    <h2 class="font-display text-6xl md:text-8xl uppercase leading-none print-offset gs-stamp">Signatures</h2>
                    <span class="text-orange text-xl font-bold pb-2">/01</span>
                </div>

                <div class="space-y-8">

                    <div class="gs-menu-item flex flex-col md:flex-row md:items-end group">
                        <div class="md:w-2/3">
                            <h3 class="text-2xl font-display uppercase text-navy-base group-hover:text-orange transition-colors">The Godfather</h3>
                            <p class="text-sm text-navy-base/50 mt-1">Double smashed beef, jerk glaze, smoked cheddar, crispy onions, Dirty sauce.</p>
                        </div>
                        <div class="hidden md:block menu-leader"></div>
                        <div class="mt-2 md:mt-0 flex items-center gap-4">
                            <span class="text-xl font-bold text-orange">£14.95</span>
                            <button class="add-btn text-navy-base font-bold hover:text-orange flex items-center gap-1 uppercase text-sm border border-navy-base/20 px-3 py-1 hover:border-orange transition-colors" data-name="The Godfather" data-price="14.95">Add <span class="material-icons text-sm">add</span></button>
                        </div>
                    </div>

                    <div class="gs-menu-item flex flex-col md:flex-row md:items-end group">
                        <div class="md:w-2/3">
                            <h3 class="text-2xl font-display uppercase text-navy-base group-hover:text-orange transition-colors">Pirate Radio Chicken</h3>
                            <p class="text-sm text-navy-base/50 mt-1">Buttermilk fried thigh, sticky BBQ glaze, pickles, toasted bun.</p>
                        </div>
                        <div class="hidden md:block menu-leader"></div>
                        <div class="mt-2 md:mt-0 flex items-center gap-4">
                            <span class="text-xl font-bold text-orange">£13.50</span>
                            <button class="add-btn text-navy-base font-bold hover:text-orange flex items-center gap-1 uppercase text-sm border border-navy-base/20 px-3 py-1 hover:border-orange transition-colors" data-name="Pirate Radio Chicken" data-price="13.50">Add <span class="material-icons text-sm">add</span></button>
                        </div>
                    </div>

                    <div class="gs-menu-item flex flex-col md:flex-row md:items-end group">
                        <div class="md:w-2/3">
                            <h3 class="text-2xl font-display uppercase text-navy-base group-hover:text-orange transition-colors">Bow E3 Mixed Grill</h3>
                            <p class="text-sm text-navy-base/50 mt-1">Jerk chicken, lamb kofta, suya beef, flatbread, mint yoghurt.</p>
                        </div>
                        <div class="hidden md:block menu-leader"></div>
                        <div class="mt-2 md:mt-0 flex items-center gap-4">
                            <span class="text-xl font-bold text-orange">£18.95</span>
                            <button class="add-btn text-navy-base font-bold hover:text-orange flex items-center gap-1 uppercase text-sm border border-navy-base/20 px-3 py-1 hover:border-orange transition-colors" data-name="Bow E3 Mixed Grill" data-price="18.95">Add <span class="material-icons text-sm">add</span></button>
                        </div>
                    </div>

                    <div class="gs-menu-item flex flex-col md:flex-row md:items-end group">
                        <div class="md:w-2/3">
                            <h3 class="text-2xl font-display uppercase text-navy-base group-hover:text-orange transition-colors">
                                Reloaded <span class="text-sm border border-navy-base/30 px-1 rounded ml-2 align-middle">VG</span>
                            </h3>
                            <p class="text-sm text-navy-base/50 mt-1">Plant-based patty, jerk mushrooms, vegan chipotle mayo.</p>
                        </div>
                        <div class="hidden md:block menu-leader"></div>
                        <div class="mt-2 md:mt-0 flex items-center gap-4">
                            <span class="text-xl font-bold text-orange">£13.95</span>
                            <button class="add-btn text-navy-base font-bold hover:text-orange flex items-center gap-1 uppercase text-sm border border-navy-base/20 px-3 py-1 hover:border-orange transition-colors" data-name="Reloaded" data-price="13.95">Add <span class="material-icons text-sm">add</span></button>
                        </div>
                    </div>

                </div>

                <div class="mt-12 p-4 border border-dashed border-orange bg-orange/10 text-center transform -rotate-1 gs-addon">
                    <p class="font-bold uppercase tracking-widest text-orange">+ Add Dirty Fries for £3.50</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ══ DIRTY FRIES ══ -->
    <section id="s06-fries" class="min-h-screen flex items-center justify-center py-20 bg-orange relative overflow-hidden text-ink" style="scroll-margin-top:120px;">
        <div class="absolute inset-0 opacity-10" style="background-image:repeating-linear-gradient(45deg,#000 0,#000 1px,transparent 0,transparent 50%);background-size:8px 8px;"></div>

        <div class="relative z-10 w-full max-w-5xl px-6">
            <div class="text-center mb-12 gs-bass-hit">
                <p class="font-mono font-bold uppercase tracking-[0.3em] text-sm mb-4 opacity-60">Section 02</p>
                <h2 class="font-display text-[15vw] leading-none uppercase tracking-tighter mix-blend-multiply opacity-90">Dirty Fries</h2>
            </div>

            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-cream p-6 border-4 border-ink transform -rotate-2 hover:rotate-0 transition-transform shadow-[8px_8px_0px_#111118] gs-fry-card">
                    <h3 class="font-display text-2xl uppercase mb-2">Jerk Loaded</h3>
                    <p class="text-sm font-bold mb-4">Jerk chicken, cheese sauce, spring onion.</p>
                    <div class="flex justify-between items-center border-t-2 border-ink pt-2">
                        <button class="add-btn text-ink font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Jerk Loaded" data-price="8.95">Add <span class="material-icons text-sm">add</span></button>
                        <span class="text-xl font-black">£8.95</span>
                    </div>
                </div>
                <div class="bg-cream p-6 border-4 border-ink transform rotate-1 hover:rotate-0 transition-transform shadow-[8px_8px_0px_#111118] gs-fry-card mt-4 md:mt-0">
                    <h3 class="font-display text-2xl uppercase mb-2">Pulled Lamb Heat</h3>
                    <p class="text-sm font-bold mb-4">Slow lamb, chilli jam, smoked mayo.</p>
                    <div class="flex justify-between items-center border-t-2 border-ink pt-2">
                        <button class="add-btn text-ink font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Pulled Lamb Heat" data-price="9.50">Add <span class="material-icons text-sm">add</span></button>
                        <span class="text-xl font-black">£9.50</span>
                    </div>
                </div>
                <div class="bg-cream p-6 border-4 border-ink transform -rotate-1 hover:rotate-0 transition-transform shadow-[8px_8px_0px_#111118] gs-fry-card mt-4 md:mt-0">
                    <h3 class="font-display text-2xl uppercase mb-2">
                        Jackfruit Fire <span class="text-xs border border-ink px-1 rounded align-top">VG</span>
                    </h3>
                    <p class="text-sm font-bold mb-4">BBQ jackfruit, vegan cheese, pickled red onion.</p>
                    <div class="flex justify-between items-center border-t-2 border-ink pt-2">
                        <button class="add-btn text-ink font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Jackfruit Fire" data-price="8.50">Add <span class="material-icons text-sm">add</span></button>
                        <span class="text-xl font-black">£8.50</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ══ WINGS & BITES ══ -->
    <section id="wings" class="py-24 relative overflow-hidden" style="scroll-margin-top:120px;">
        <svg class="absolute top-0 right-10 w-32 h-full pointer-events-none opacity-10 text-orange" viewBox="0 0 100 1000" preserveAspectRatio="none">
            <path class="draw-line" stroke="currentColor" stroke-width="2" fill="none" d="M50,0 Q80,200 50,400 T50,800 Q20,900 50,1000"></path>
        </svg>

        <div class="max-w-3xl mx-auto px-6 relative z-10">
            <h2 class="font-display text-5xl md:text-7xl uppercase mb-12 text-center relative gs-stamp">
                <span class="relative z-10 text-navy-base">Wings &amp; Bites</span>
                <span class="absolute top-0 left-1/2 -translate-x-1/2 text-orange opacity-40 ml-1 mt-1 z-0">Wings &amp; Bites</span>
            </h2>

            <div class="space-y-4">
                <div class="gs-wing-row poster-card p-4 md:p-6 flex justify-between items-center group cursor-pointer hover:bg-primary/10 transition-colors">
                    <div>
                        <h3 class="font-display text-2xl uppercase text-navy-base group-hover:text-orange">Eski Wings</h3>
                        <p class="text-xs text-navy-base/50">Scotch bonnet glaze, cooling dip.</p>
                    </div>
                    <div class="flex items-center gap-4 ml-4">
                        <span class="text-xl font-bold text-orange whitespace-nowrap">£9.95</span>
                        <button class="add-btn text-navy-base font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Eski Wings" data-price="9.95">Add <span class="material-icons text-sm">add</span></button>
                    </div>
                </div>

                <div class="gs-wing-row poster-card p-4 md:p-6 flex justify-between items-center group cursor-pointer hover:bg-primary/10 transition-colors ml-4 md:ml-8">
                    <div>
                        <h3 class="font-display text-2xl uppercase text-navy-base group-hover:text-orange">Plantain Fries</h3>
                        <p class="text-xs text-navy-base/50">Sweet chilli dip.</p>
                    </div>
                    <div class="flex items-center gap-4 ml-4">
                        <span class="text-xl font-bold text-orange whitespace-nowrap">£5.50</span>
                        <button class="add-btn text-navy-base font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Plantain Fries" data-price="5.50">Add <span class="material-icons text-sm">add</span></button>
                    </div>
                </div>

                <div class="gs-wing-row poster-card p-4 md:p-6 flex justify-between items-center group cursor-pointer hover:bg-primary/10 transition-colors">
                    <div>
                        <h3 class="font-display text-2xl uppercase text-navy-base group-hover:text-orange">Den Nachos</h3>
                        <p class="text-xs text-navy-base/50">Beef or vegan chilli, cheese, jalape&#241;os.</p>
                    </div>
                    <div class="flex items-center gap-4 ml-4">
                        <span class="text-xl font-bold text-orange whitespace-nowrap">£8.95</span>
                        <button class="add-btn text-navy-base font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Den Nachos" data-price="8.95">Add <span class="material-icons text-sm">add</span></button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ══ SUNDAY ROAST ══ -->
    <section id="sunday-roast" class="py-24 relative bg-navy-base overflow-hidden" style="scroll-margin-top:120px;">
        <!-- Subtle diagonal stripe pattern -->
        <div class="absolute inset-0 opacity-[0.04]" style="background-image:repeating-linear-gradient(-45deg,#F0EAD6 0,#F0EAD6 1px,transparent 0,transparent 50%);background-size:12px 12px;"></div>

        <div class="max-w-4xl mx-auto px-6 relative z-10">

            <!-- Header -->
            <div class="text-center mb-14 gs-roast-header">
                <p class="font-mono font-bold uppercase tracking-[0.3em] text-sm mb-4 text-dirty-cream/40">Sundays Only &middot; 13:00 &ndash; 22:00</p>
                <h2 class="font-display text-[13vw] md:text-[8rem] leading-none uppercase tracking-tighter text-dirty-cream/90">Sunday Roast</h2>
                <div class="mt-4 inline-block stamp stamp-rust stamp-anim text-sm">Sundays Only</div>
            </div>

            <!-- Mains -->
            <div class="poster-card poster-card-dark p-8 md:p-12 transform -rotate-1 mb-10">
                <div class="tape tape-tl"></div>
                <div class="tape tape-tr"></div>

                <div class="border-b-2 border-orange/40 pb-4 mb-8 flex justify-between items-end">
                    <h3 class="font-display text-4xl md:text-5xl uppercase text-dirty-cream leading-none">Mains</h3>
                    <span class="text-orange text-xl font-bold pb-1">/06</span>
                </div>

                <div class="space-y-8">

                    <div class="gs-roast-item flex flex-col md:flex-row md:items-end group">
                        <div class="md:w-2/3">
                            <h4 class="text-2xl font-display uppercase text-dirty-cream group-hover:text-orange transition-colors">Dizzee Roast-cal</h4>
                            <p class="text-sm text-dirty-cream/40 mt-1">Classic roast beef, Yorkshire pud, duck fat roasties, seasonal greens, proper gravy.</p>
                        </div>
                        <div class="hidden md:block menu-leader" style="border-color:rgba(200,191,168,0.2);"></div>
                        <div class="mt-2 md:mt-0 flex items-center gap-4">
                            <span class="text-xl font-bold text-orange">£16.95</span>
                            <button class="add-btn text-dirty-cream font-bold hover:text-orange flex items-center gap-1 uppercase text-sm border border-dirty-cream/20 px-3 py-1 hover:border-orange transition-colors" data-name="Dizzee Roast-cal" data-price="16.95">Add <span class="material-icons text-sm">add</span></button>
                        </div>
                    </div>

                    <div class="gs-roast-item flex flex-col md:flex-row md:items-end group">
                        <div class="md:w-2/3">
                            <h4 class="text-2xl font-display uppercase text-dirty-cream group-hover:text-orange transition-colors">Skepta's Shoulder</h4>
                            <p class="text-sm text-dirty-cream/40 mt-1">8-hour lamb shoulder, mint sauce, roast potatoes, tenderstem broccoli, red wine jus.</p>
                        </div>
                        <div class="hidden md:block menu-leader" style="border-color:rgba(200,191,168,0.2);"></div>
                        <div class="mt-2 md:mt-0 flex items-center gap-4">
                            <span class="text-xl font-bold text-orange">£18.95</span>
                            <button class="add-btn text-dirty-cream font-bold hover:text-orange flex items-center gap-1 uppercase text-sm border border-dirty-cream/20 px-3 py-1 hover:border-orange transition-colors" data-name="Skepta's Shoulder" data-price="18.95">Add <span class="material-icons text-sm">add</span></button>
                        </div>
                    </div>

                    <div class="gs-roast-item flex flex-col md:flex-row md:items-end group">
                        <div class="md:w-2/3">
                            <h4 class="text-2xl font-display uppercase text-dirty-cream group-hover:text-orange transition-colors">Tempa T-Bone</h4>
                            <p class="text-sm text-dirty-cream/40 mt-1">16oz T-bone, duck fat roasties, charred greens, peppercorn sauce.</p>
                        </div>
                        <div class="hidden md:block menu-leader" style="border-color:rgba(200,191,168,0.2);"></div>
                        <div class="mt-2 md:mt-0 flex items-center gap-4">
                            <span class="text-xl font-bold text-orange">£24.95</span>
                            <button class="add-btn text-dirty-cream font-bold hover:text-orange flex items-center gap-1 uppercase text-sm border border-dirty-cream/20 px-3 py-1 hover:border-orange transition-colors" data-name="Tempa T-Bone" data-price="24.95">Add <span class="material-icons text-sm">add</span></button>
                        </div>
                    </div>

                    <div class="gs-roast-item flex flex-col md:flex-row md:items-end group">
                        <div class="md:w-2/3">
                            <h4 class="text-2xl font-display uppercase text-dirty-cream group-hover:text-orange transition-colors">Lethal Brisket</h4>
                            <p class="text-sm text-dirty-cream/40 mt-1">Smoked beef brisket, horseradish cream, Yorkshire pud, roast veg, beef dripping gravy.</p>
                        </div>
                        <div class="hidden md:block menu-leader" style="border-color:rgba(200,191,168,0.2);"></div>
                        <div class="mt-2 md:mt-0 flex items-center gap-4">
                            <span class="text-xl font-bold text-orange">£17.95</span>
                            <button class="add-btn text-dirty-cream font-bold hover:text-orange flex items-center gap-1 uppercase text-sm border border-dirty-cream/20 px-3 py-1 hover:border-orange transition-colors" data-name="Lethal Brisket" data-price="17.95">Add <span class="material-icons text-sm">add</span></button>
                        </div>
                    </div>

                    <div class="gs-roast-item flex flex-col md:flex-row md:items-end group">
                        <div class="md:w-2/3">
                            <h4 class="text-2xl font-display uppercase text-dirty-cream group-hover:text-orange transition-colors">
                                Kano's Cauliflower <span class="text-sm border border-dirty-cream/30 px-1 rounded ml-2 align-middle">VG</span>
                            </h4>
                            <p class="text-sm text-dirty-cream/40 mt-1">Whole roasted cauliflower, chimichurri, roast potatoes, seasonal greens.</p>
                        </div>
                        <div class="hidden md:block menu-leader" style="border-color:rgba(200,191,168,0.2);"></div>
                        <div class="mt-2 md:mt-0 flex items-center gap-4">
                            <span class="text-xl font-bold text-orange">£14.95</span>
                            <button class="add-btn text-dirty-cream font-bold hover:text-orange flex items-center gap-1 uppercase text-sm border border-dirty-cream/20 px-3 py-1 hover:border-orange transition-colors" data-name="Kano's Cauliflower" data-price="14.95">Add <span class="material-icons text-sm">add</span></button>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Sides -->
            <div class="grid md:grid-cols-3 gap-6">
                <div class="gs-roast-side poster-card poster-card-dark p-6 border-t-4 border-t-orange transform rotate-1">
                    <h4 class="font-display text-2xl uppercase mb-2 text-dirty-cream">Chip's Roasties</h4>
                    <p class="text-sm text-dirty-cream/40 mb-4">Duck fat triple-cooked potatoes, rosemary salt.</p>
                    <div class="flex justify-between items-center">
                        <div class="text-xl font-bold text-orange">£4.50</div>
                        <button class="add-btn text-dirty-cream font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Chip's Roasties" data-price="4.50">Add <span class="material-icons text-sm">add</span></button>
                    </div>
                </div>
                <div class="gs-roast-side poster-card poster-card-dark p-6 border-t-4 border-t-orange transform -rotate-1">
                    <h4 class="font-display text-2xl uppercase mb-2 text-dirty-cream">Stormzy Yorkshires</h4>
                    <p class="text-sm text-dirty-cream/40 mb-4">Giant Yorkshires, three-pack, whipped horseradish.</p>
                    <div class="flex justify-between items-center">
                        <div class="text-xl font-bold text-orange">£3.95</div>
                        <button class="add-btn text-dirty-cream font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Stormzy Yorkshires" data-price="3.95">Add <span class="material-icons text-sm">add</span></button>
                    </div>
                </div>
                <div class="gs-roast-side poster-card poster-card-dark p-6 border-t-4 border-t-orange transform rotate-1">
                    <h4 class="font-display text-2xl uppercase mb-2 text-dirty-cream">Ghetts the Gravy</h4>
                    <p class="text-sm text-dirty-cream/40 mb-4">Extra boat of proper gravy, beef dripping.</p>
                    <div class="flex justify-between items-center">
                        <div class="text-xl font-bold text-orange">£2.50</div>
                        <button class="add-btn text-dirty-cream font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Ghetts the Gravy" data-price="2.50">Add <span class="material-icons text-sm">add</span></button>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- ══ DRINKS ══ -->
    <section id="drinks" class="py-20 border-t border-navy-base/15" style="scroll-margin-top:120px;">
        <div class="max-w-6xl mx-auto px-6">
            <div class="flex flex-col md:flex-row gap-8">

                <!-- On Tap -->
                <div class="flex-1 poster-card p-8 gs-drink-left">
                    <div class="tape tape-tl"></div>
                    <h2 class="font-display text-5xl uppercase mb-8 border-b-2 border-orange pb-2 text-orange">On Tap</h2>
                    <ul class="space-y-6">
                        <li class="flex justify-between items-end">
                            <div>
                                <h3 class="font-bold text-lg text-navy-base">Dirty Den Lager</h3>
                                <p class="text-xs text-navy-base/50">Crisp &amp; cold</p>
                            </div>
                            <div class="text-orange font-bold gs-price" data-price="5.50">£0.00</div>
                        </li>
                        <li class="flex justify-between items-end">
                            <div>
                                <h3 class="font-bold text-lg text-navy-base">Guinness</h3>
                                <p class="text-xs text-navy-base/50">Dark &amp; heavy</p>
                            </div>
                            <div class="text-orange font-bold gs-price" data-price="6.20">£0.00</div>
                        </li>
                        <li class="flex justify-between items-end">
                            <div>
                                <h3 class="font-bold text-lg text-navy-base">London Pale Ale</h3>
                                <p class="text-xs text-navy-base/50">Hoppy, local</p>
                            </div>
                            <div class="text-orange font-bold gs-price" data-price="6.00">£0.00</div>
                        </li>
                        <li class="flex justify-between items-end">
                            <div>
                                <h3 class="font-bold text-lg text-navy-base">Cider</h3>
                                <p class="text-xs text-navy-base/50">On ice</p>
                            </div>
                            <div class="text-orange font-bold gs-price" data-price="5.80">£0.00</div>
                        </li>
                    </ul>
                </div>

                <!-- Cocktails -->
                <div class="flex-1 poster-card p-8 bg-navy-base text-dirty-cream gs-drink-right mt-8 md:mt-20">
                    <div class="tape tape-tr"></div>
                    <h2 class="font-display text-5xl uppercase mb-8 border-b-2 border-dirty-cream/30 pb-2">Freq 140 Mixes</h2>
                    <ul class="space-y-6">
                        <li class="flex justify-between items-end">
                            <div>
                                <h3 class="font-bold text-lg text-orange">Shutdown Punch</h3>
                                <p class="text-xs text-dirty-cream/50">Rum, pineapple, ginger beer.</p>
                            </div>
                            <div class="font-bold text-dirty-cream gs-price" data-price="9.50">£0.00</div>
                        </li>
                        <li class="flex justify-between items-end">
                            <div>
                                <h3 class="font-bold text-lg text-orange">Frequency 140</h3>
                                <p class="text-xs text-dirty-cream/50">Vodka, blue cura&#231;ao, lemon.</p>
                            </div>
                            <div class="font-bold text-dirty-cream gs-price" data-price="10.00">£0.00</div>
                        </li>
                        <li class="flex justify-between items-end">
                            <div>
                                <h3 class="font-bold text-lg text-orange">Roll Deep Rum</h3>
                                <p class="text-xs text-dirty-cream/50">Dark rum, lime, cane sugar.</p>
                            </div>
                            <div class="font-bold text-dirty-cream gs-price" data-price="9.50">£0.00</div>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </section>

    <!-- ══ AFTERS ══ -->
    <section id="afters" class="py-24 relative" style="scroll-margin-top:120px;">
        <div class="max-w-3xl mx-auto px-6 text-center">
            <h2 class="font-display text-6xl uppercase mb-12 text-orange gs-ink-dry" style="opacity:0; filter:blur(8px);">Afters</h2>

            <div class="grid md:grid-cols-2 gap-8 text-left">
                <div class="poster-card p-6 border-t-4 border-t-orange transform rotate-1 gs-dessert">
                    <h3 class="font-display text-2xl uppercase mb-2 text-navy-base">Chocolate Bass Cake</h3>
                    <p class="text-sm text-navy-base/50 mb-4">Warm brownie, vanilla ice cream.</p>
                    <div class="flex justify-between items-center">
                        <div class="text-xl font-bold text-orange">£6.50</div>
                        <button class="add-btn text-navy-base font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Chocolate Bass Cake" data-price="6.50">Add <span class="material-icons text-sm">add</span></button>
                    </div>
                </div>
                <div class="poster-card p-6 border-t-4 border-t-orange transform -rotate-1 gs-dessert">
                    <h3 class="font-display text-2xl uppercase mb-2 text-navy-base">Rum &amp; Raisin Cheesecake</h3>
                    <p class="text-sm text-navy-base/50 mb-4">Baked vanilla cheesecake, soaked raisins, burnt sugar crust.</p>
                    <div class="flex justify-between items-center">
                        <div class="text-xl font-bold text-orange">£6.95</div>
                        <button class="add-btn text-navy-base font-bold hover:text-orange flex items-center gap-1 uppercase text-sm" data-name="Rum &amp; Raisin Cheesecake" data-price="6.95">Add <span class="material-icons text-sm">add</span></button>
                    </div>
                </div>
            </div>

            <p class="mt-12 font-display text-lg text-navy-base/40 uppercase tracking-[0.3em]">Dirty Den &bull; Bow E3 &bull; 140 BPM</p>
        </div>
    </section>

    <!-- ══ PLACE YOUR ORDER ══ -->
    <section id="order" class="py-24 relative border-t border-navy-base/15" style="scroll-margin-top:120px;">
        <div class="max-w-3xl mx-auto px-6">
            <div class="gs-slide-up">
                <div class="poster-card p-8 md:p-12 bg-dirty-cream text-navy-base transform rotate-1">
                    <div class="tape tape-tc" style="background-color: rgba(0,0,0,0.1);"></div>
                    <h2 class="font-display text-5xl uppercase mb-8 border-b-4 border-navy-base pb-2">Place Your Order for Delivery</h2>

                    <form class="space-y-6 font-body font-bold" onsubmit="event.preventDefault();">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-xs uppercase tracking-widest mb-1">Name</label>
                                <input type="text" class="w-full bg-transparent border-b-2 border-navy-base py-2 focus:outline-none focus:border-primary transition-colors" placeholder="e.g. Wiley">
                            </div>
                            <div>
                                <label class="block text-xs uppercase tracking-widest mb-1">Phone</label>
                                <input type="tel" class="w-full bg-transparent border-b-2 border-navy-base py-2 focus:outline-none focus:border-primary transition-colors" placeholder="07xxx xxxxxx">
                            </div>
                        </div>

                        <div>
                            <label class="block text-xs uppercase tracking-widest mb-1">Delivery Address</label>
                            <input type="text" class="w-full bg-transparent border-b-2 border-navy-base py-2 focus:outline-none focus:border-primary transition-colors" placeholder="Street, London, Postcode">
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-xs uppercase tracking-widest mb-1">Date</label>
                                <input type="date" class="w-full bg-transparent border-b-2 border-navy-base py-2 focus:outline-none focus:border-primary font-body">
                            </div>
                            <div>
                                <label class="block text-xs uppercase tracking-widest mb-1">Time</label>
                                <input type="time" class="w-full bg-transparent border-b-2 border-navy-base py-2 focus:outline-none focus:border-primary font-body">
                            </div>
                        </div>

                        <div>
                            <label class="block text-xs uppercase tracking-widest mb-1">Notes / Demands</label>
                            <input type="text" class="w-full bg-transparent border-b-2 border-navy-base py-2 focus:outline-none focus:border-primary transition-colors" placeholder="Allergies? Special requests?">
                        </div>

                        <button type="submit" class="w-full bg-navy-base text-dirty-cream font-display text-2xl uppercase py-4 hover:bg-primary transition-colors mt-8">
                            Place Order
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <p class="text-center font-body text-xs text-navy-base/30 uppercase tracking-widest py-8">
        Please ask staff about allergens before ordering. (VG) = Vegan.
    </p>

</main>

<!-- FOOTER -->
<footer class="bg-navy-base pt-24 pb-12 relative overflow-hidden">
    <div class="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuCn8zdvTa5Ah5JIkPgetAcC6VSPbThYCMr56fBp8j1hqPmWzkb9pDmLBBYwUqYu0VrDrmGXFVe2VXYVde3Wx7CEqr94NPsjLRRrjVueJm2ZbDk-C3yjOdLn6zDmXh_8O475ItHPI8mFY_IQz99ICAnW8UwLyJU3lZD_bkb2BRzWEjhcPzxajM5zKVpQrNLGZnM8fgXjm1DYT-ZN0t91fycWJEjMkSIHwalyPSzXmsmtPwvBGWGCXR3bz8qyN-t0YE6j4l1TsBPUozOQ');"></div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-16 border-b border-dirty-cream/20 pb-12">
            <div class="col-span-1 md:col-span-2">
                <img src="logo.png" alt="Dirty Den" class="h-48 w-auto mb-6 rounded-sm"/>
                <p class="font-body text-dirty-cream/60 max-w-sm mb-6">
                    Born in the basement. Raised on bass. Serving the community since 2014. No reservations, just turn up and get messy.
                </p>
                <div class="flex space-x-4">
                    <a class="w-10 h-10 border-2 border-dirty-cream text-dirty-cream flex items-center justify-center rounded-sm hover:bg-primary hover:border-primary hover:text-navy-base transition-all" href="#"><i class="material-icons">facebook</i></a>
                    <a class="w-10 h-10 border-2 border-dirty-cream text-dirty-cream flex items-center justify-center rounded-sm hover:bg-primary hover:border-primary hover:text-navy-base transition-all" href="#"><i class="material-icons">camera_alt</i></a>
                    <a class="w-10 h-10 border-2 border-dirty-cream text-dirty-cream flex items-center justify-center rounded-sm hover:bg-primary hover:border-primary hover:text-navy-base transition-all" href="#"><i class="material-icons">alternate_email</i></a>
                </div>
            </div>
            <div class="poster-card poster-card-dark p-8">
                <div class="tape tape-tl"></div>
                <h3 class="font-display text-3xl uppercase mb-6 border-b border-dirty-cream/20 pb-2 text-primary">Find Us</h3>
                <address class="not-italic text-base space-y-1 mb-6 text-dirty-cream font-body">
                    <strong>DIRTY DEN HQ</strong><br>
                    Unit 4, Railway Arches<br>
                    Bow Road, London E3 4AA
                </address>
                <div class="text-sm text-dirty-cream/60 uppercase tracking-widest space-y-2 font-body">
                    <p>Mon &ndash; Wed: Closed</p>
                    <p class="text-primary font-bold">Thu &ndash; Sat: 17:00 &ndash; 01:00</p>
                    <p>Sunday: 13:00 &ndash; 22:00</p>
                </div>
            </div>
            <div class="poster-card poster-card-dark p-8">
                <div class="tape tape-tr"></div>
                <h3 class="font-display text-3xl uppercase mb-6 border-b border-dirty-cream/20 pb-2 text-primary">Locations</h3>
                <ul class="text-sm text-dirty-cream/60 uppercase tracking-widest space-y-4 font-body">
                    <li class="flex items-center gap-3 hover:text-primary transition-colors cursor-pointer">
                        <span class="text-primary font-display text-lg">01</span> Hackney Wick (HQ)
                    </li>
                    <li class="flex items-center gap-3 hover:text-primary transition-colors cursor-pointer">
                        <span class="text-primary font-display text-lg">02</span> Peckham Rye
                    </li>
                    <li class="flex items-center gap-3 hover:text-primary transition-colors cursor-pointer">
                        <span class="text-primary font-display text-lg">03</span> Camden Lock
                    </li>
                    <li class="flex items-center gap-3 hover:text-primary transition-colors cursor-pointer">
                        <span class="text-primary font-display text-lg">04</span> Brixton
                    </li>
                </ul>
            </div>
        </div>
        <div class="flex flex-col md:flex-row justify-between items-center text-xs font-body text-dirty-cream/40 uppercase tracking-widest">
            <p>&copy; 2026 Dirty Den Ltd. All Rights Reserved.</p>
            <div class="flex space-x-6 mt-4 md:mt-0">
                <a class="hover:text-primary" href="#">Privacy</a>
                <a class="hover:text-primary" href="#">Terms</a>
                <a class="hover:text-primary" href="#">Allergens</a>
            </div>
        </div>
        <div class="mt-8 text-center opacity-20">
            <p class="font-glitch text-6xl text-dirty-cream select-none">E3 ENERGY</p>
        </div>
    </div>
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {
    gsap.registerPlugin(ScrollTrigger);

    const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    if (!reduced) {

        // Stamp drop on Signatures heading
        gsap.utils.toArray(".gs-stamp").forEach(el => {
            gsap.from(el, {
                scrollTrigger: { trigger: el, start: "top 80%" },
                scale: 2, opacity: 0, duration: 0.5, ease: "bounce.out"
            });
        });

        // Signatures items slide in
        gsap.from(".gs-menu-item", {
            scrollTrigger: { trigger: "#signatures", start: "top 60%" },
            x: -50, opacity: 0, stagger: 0.15, duration: 0.6, ease: "power2.out"
        });

        // Add fries CTA bounce
        gsap.from(".gs-addon", {
            scrollTrigger: { trigger: ".gs-addon", start: "top 85%" },
            rotation: -10, scale: 0.8, opacity: 0,
            ease: "elastic.out(1, 0.5)", duration: 1
        });

        // Dirty Fries headline
        gsap.from(".gs-bass-hit h2", {
            scrollTrigger: { trigger: "#s06-fries", start: "top center", toggleActions: "play none none reverse" },
            scale: 0.8, opacity: 0, duration: 0.4, ease: "power3.out"
        });

        // Fries cards
        gsap.from(".gs-fry-card", {
            scrollTrigger: { trigger: "#s06-fries", start: "top 70%" },
            y: 100, opacity: 0, stagger: 0.2, duration: 0.8, ease: "power3.out"
        });

        // Wings SVG wire draw
        gsap.to(".draw-line", {
            scrollTrigger: { trigger: "#wings", start: "top bottom", end: "bottom center", scrub: 0.5 },
            strokeDashoffset: 0
        });

        // Wings rows
        gsap.from(".gs-wing-row", {
            scrollTrigger: { trigger: "#wings", start: "top 60%" },
            y: 30, opacity: 0, stagger: 0.1, duration: 0.5
        });

        // Sunday Roast header
        gsap.from(".gs-roast-header h2", {
            scrollTrigger: { trigger: "#sunday-roast", start: "top center", toggleActions: "play none none reverse" },
            scale: 0.8, opacity: 0, duration: 0.5, ease: "power3.out"
        });

        // Sunday Roast menu items slide in
        gsap.from(".gs-roast-item", {
            scrollTrigger: { trigger: "#sunday-roast .poster-card", start: "top 60%" },
            x: -50, opacity: 0, stagger: 0.12, duration: 0.6, ease: "power2.out"
        });

        // Sunday Roast side cards
        gsap.from(".gs-roast-side", {
            scrollTrigger: { trigger: ".gs-roast-side", start: "top 80%" },
            y: 50, opacity: 0, stagger: 0.15, duration: 0.7, ease: "power3.out"
        });

        // Drinks parallax
        gsap.from(".gs-drink-left",  {
            scrollTrigger: { trigger: "#drinks", start: "top 80%", scrub: 1 }, y:  50
        });
        gsap.from(".gs-drink-right", {
            scrollTrigger: { trigger: "#drinks", start: "top 80%", scrub: 1 }, y: -50
        });

        // Price counters
        gsap.utils.toArray(".gs-price").forEach(el => {
            const target = parseFloat(el.getAttribute('data-price'));
            ScrollTrigger.create({
                trigger: el, start: "top 85%", once: true,
                onEnter: () => {
                    const obj = { val: 0 };
                    gsap.to(obj, {
                        val: target, duration: 1.2, ease: "power1.out",
                        onUpdate: () => { el.textContent = "£" + obj.val.toFixed(2); }
                    });
                }
            });
        });

        // Afters ink-dry
        gsap.to(".gs-ink-dry", {
            scrollTrigger: { trigger: "#afters", start: "top 70%" },
            opacity: 1, filter: "blur(0px)", duration: 1.5, ease: "power2.out"
        });
        gsap.from(".gs-dessert", {
            scrollTrigger: { trigger: "#afters", start: "top 60%" },
            y: 50, opacity: 0, stagger: 0.2, duration: 0.8
        });

        // Order form slide up
        gsap.from(".gs-slide-up", {
            scrollTrigger: { trigger: "#order", start: "top 70%" },
            y: 80, opacity: 0, duration: 0.8, ease: "power3.out"
        });

    } else {
        gsap.set(".gs-menu-item, .gs-fry-card, .gs-wing-row, .gs-slide-up, .gs-addon, .gs-dessert, .gs-roast-item, .gs-roast-side",
            { opacity: 1, scale: 1, y: 0, x: 0 });
        gsap.set(".gs-ink-dry", { opacity: 1, filter: "blur(0px)" });
        gsap.utils.toArray(".gs-price").forEach(el => {
            el.textContent = "£" + parseFloat(el.getAttribute('data-price')).toFixed(2);
        });
    }

    // Category pill highlight on scroll
    const sections = document.querySelectorAll('section[id]');
    const pills    = document.querySelectorAll('.cat-pill');
    const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                pills.forEach(p => p.classList.remove('active'));
                const active = document.querySelector(`.cat-pill[data-target="${entry.target.id}"]`);
                if (active) active.classList.add('active');
            }
        });
    }, { threshold: 0.25, rootMargin: '-100px 0px -55% 0px' });
    sections.forEach(s => io.observe(s));
});
</script>

<style>
@keyframes cart-pulse { 0%,100%{transform:scale(1)} 40%{transform:scale(1.3)} }
.cart-pulse { animation: cart-pulse 0.35s ease-out; display: inline-block; }
</style>

<!-- ── FLOATING CART BAR ── -->
<div id="cart-bar" class="fixed bottom-0 left-0 right-0 z-50 translate-y-full transition-transform duration-300 ease-out">
    <!-- Expanded items (shown when toggled) -->
    <div id="cart-items-panel" class="hidden bg-navy-base border-t border-dirty-cream/10 overflow-y-auto" style="max-height:14rem"></div>
    <!-- Main strip -->
    <div class="bg-navy-base border-t-4 border-primary" style="box-shadow:0 -8px 32px rgba(0,0,0,0.5)">
        <button type="button" id="cart-bar-toggle" class="w-full flex items-center gap-3 px-4 py-3 text-left select-none">
            <span class="material-icons text-primary text-2xl">shopping_basket</span>
            <span id="cart-bar-label" class="flex-1 font-display uppercase text-dirty-cream text-base leading-none truncate"></span>
            <span id="cart-bar-total" class="font-display text-2xl text-primary whitespace-nowrap">£0.00</span>
            <span id="cart-chevron" class="material-icons text-dirty-cream/50 transition-transform duration-200">expand_less</span>
        </button>
        <div class="flex gap-2 px-4 pb-4">
            <button type="button" onclick="goToOrder()" class="flex-1 bg-primary text-navy-base font-display text-base uppercase py-3 tracking-widest hover:brightness-110 transition-all">Place Order</button>
            <button type="button" onclick="clearCart()" class="border-2 border-dirty-cream/20 text-dirty-cream/60 px-4 py-3 hover:border-red-400 hover:text-red-400 transition-all" title="Clear order">
                <span class="material-icons">delete_outline</span>
            </button>
        </div>
    </div>
</div>

<script>
// ── CART ──────────────────────────────────────────────
const cart = [];
let cartOpen = false;

function addToCart(name, price) {
    const existing = cart.find(i => i.name === name);
    if (existing) { existing.qty++; } else { cart.push({ name, price: parseFloat(price), qty: 1 }); }
    renderCart();
    showCartBar();
    pulseTotal();
}

function removeFromCart(index) {
    cart.splice(index, 1);
    renderCart();
    if (cart.length === 0) hideCartBar();
}

function clearCart() {
    cart.length = 0;
    cartOpen = false;
    renderCart();
    hideCartBar();
}

function goToOrder() {
    document.getElementById('order').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function showCartBar() {
    document.getElementById('cart-bar').classList.remove('translate-y-full');
}

function hideCartBar() {
    cartOpen = false;
    document.getElementById('cart-bar').classList.add('translate-y-full');
    document.getElementById('cart-items-panel').classList.add('hidden');
    document.getElementById('cart-chevron').style.transform = '';
}

function pulseTotal() {
    const el = document.getElementById('cart-bar-total');
    el.classList.remove('cart-pulse');
    void el.offsetWidth;
    el.classList.add('cart-pulse');
}

function renderCart() {
    const totalQty = cart.reduce((s, i) => s + i.qty, 0);
    const total    = cart.reduce((s, i) => s + i.price * i.qty, 0);
    document.getElementById('cart-bar-label').textContent = totalQty === 1 ? cart[0].name : totalQty + ' items';
    document.getElementById('cart-bar-total').textContent = '\u00a3' + total.toFixed(2);
    document.getElementById('cart-items-panel').innerHTML = cart.map((item, i) =>
        '<div class="flex justify-between items-center px-4 py-3 border-b border-dirty-cream/10">' +
            '<div class="flex items-center gap-2 flex-1 min-w-0">' +
                '<span class="font-body font-bold text-sm uppercase text-dirty-cream truncate">' + item.name + '</span>' +
                (item.qty > 1 ? '<span class="shrink-0 text-xs px-1.5 py-0.5 font-bold text-navy-base" style="background:#F25C24">\u00d7' + item.qty + '</span>' : '') +
            '</div>' +
            '<div class="flex items-center gap-3 ml-3 shrink-0">' +
                '<span class="font-body font-bold text-sm" style="color:#F25C24">\u00a3' + (item.price * item.qty).toFixed(2) + '</span>' +
                '<button type="button" onclick="removeFromCart(' + i + ')" class="text-dirty-cream/40 hover:text-red-400 transition-colors"><span class="material-icons text-sm">close</span></button>' +
            '</div>' +
        '</div>'
    ).join('');
}

document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.add-btn').forEach(btn => {
        btn.addEventListener('click', () => addToCart(btn.dataset.name, btn.dataset.price));
    });

    document.getElementById('cart-bar-toggle').addEventListener('click', () => {
        cartOpen = !cartOpen;
        document.getElementById('cart-items-panel').classList.toggle('hidden', !cartOpen);
        document.getElementById('cart-chevron').style.transform = cartOpen ? 'rotate(180deg)' : '';
    });

    // Mobile menu
    const mobileBtn  = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    if (mobileBtn && mobileMenu) {
        const icon = mobileBtn.querySelector('.material-icons');
        mobileBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            icon.textContent = mobileMenu.classList.contains('hidden') ? 'menu' : 'close';
        });
        mobileMenu.querySelectorAll('a').forEach(a => {
            a.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                icon.textContent = 'menu';
            });
        });
    }
});
</script>

<!-- ══ GEMINI VOICE ORDERING ══════════════════════════════════════════════ -->
<style>
@keyframes vping  { 0%{opacity:.8;transform:scale(.85)} 70%{opacity:.15;transform:scale(1.6)} 100%{opacity:0;transform:scale(1.9)} }
@keyframes vspin  { to{transform:rotate(360deg)} }
@keyframes vshake { 0%,100%{transform:translateX(0)} 25%{transform:translateX(-5px)} 75%{transform:translateX(5px)} }
</style>

<div id="voice-ui" style="position:fixed;right:18px;bottom:18px;z-index:52;transition:bottom .3s ease">
    <div id="voice-ring" style="display:none;position:absolute;inset:-10px;border-radius:4px;background:rgba(242,92,36,.22);animation:vping 1.3s ease-out infinite;z-index:0;pointer-events:none"></div>
    <button id="voice-btn" type="button" onclick="voiceToggle()" aria-label="Place voice order"
        style="position:relative;z-index:1;width:76px;padding:17px 0 13px;border-radius:3px 2px 4px 2px;background-color:#e8e0cc;background-image:radial-gradient(rgba(0,0,0,.07) 1px,transparent 1px),linear-gradient(rgba(0,0,0,.04) 1px,transparent 1px);background-size:18px 18px,100% 24px;border:1px solid #c8bfa8;box-shadow:4px 4px 14px rgba(0,0,0,.2),inset 0 0 30px rgba(0,0,0,.03);cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;transform:rotate(-2deg);-webkit-tap-highlight-color:transparent;overflow:hidden;transition:box-shadow .25s,background-color .25s,border-color .25s">
        <div style="position:absolute;inset:0;background-image:url('https://www.transparenttextures.com/patterns/dust.png');opacity:.6;pointer-events:none"></div>
        <div style="position:absolute;top:-2px;left:50%;transform:translateX(-50%) rotate(-1.5deg);width:50px;height:17px;background:rgba(210,185,95,.65);border:1px solid rgba(180,155,65,.32);pointer-events:none"></div>
        <span id="voice-icon" class="material-icons" style="color:#0B1526;font-size:27px;position:relative;z-index:1;margin-top:8px">phone</span>
        <span id="voice-text" style="font-family:'Stardos Stencil',serif;font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.16em;color:#0B1526;position:relative;z-index:1;line-height:1">Order</span>
    </button>
    <div id="voice-label" style="display:none;text-align:center;margin-top:5px;font-family:'Stardos Stencil',serif;font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.13em;color:#F0EAD6;text-shadow:0 1px 4px rgba(0,0,0,.9)"></div>
</div>

<script>
(function() {
'use strict';

var ELEVENLABS_AGENT_ID = 'agent_7201khvxxb7mex5btdn1rkm1npba';

function setVoiceUI(state) {
    var btn   = document.getElementById('voice-btn');
    var icon  = document.getElementById('voice-icon');
    var text  = document.getElementById('voice-text');
    var label = document.getElementById('voice-label');
    var ring  = document.getElementById('voice-ring');
    if (!btn) return;
    var PAPER_IMG = 'radial-gradient(rgba(0,0,0,.07) 1px,transparent 1px),linear-gradient(rgba(0,0,0,.04) 1px,transparent 1px)';
    var PAPER_SZ  = '18px 18px,100% 24px';
    var cfg = {
        idle:       { bgC:'#e8e0cc', bgI:PAPER_IMG, bgS:PAPER_SZ, bdr:'#c8bfa8', sh:'4px 4px 14px rgba(0,0,0,.2),inset 0 0 30px rgba(0,0,0,.03)', iC:'#0B1526', tC:'#0B1526', icon:'phone',        txt:'Order',  lbl:'',           ring:false, spin:false },
        connecting: { bgC:'#e8e0cc', bgI:PAPER_IMG, bgS:PAPER_SZ, bdr:'#c8bfa8', sh:'4px 4px 14px rgba(0,0,0,.2),inset 0 0 30px rgba(0,0,0,.03)', iC:'#0B1526', tC:'#0B1526', icon:'sync',         txt:'...',    lbl:'Connecting', ring:false, spin:true  },
        listening:  { bgC:'#0B1526', bgI:'none',    bgS:'',       bdr:'#F25C24', sh:'0 0 0 2px #F25C24,4px 4px 16px rgba(0,0,0,.55)',              iC:'#F25C24', tC:'#F0EAD6', icon:'phone',        txt:'Live',   lbl:'Listening',  ring:true,  spin:false },
        speaking:   { bgC:'#0B1526', bgI:'none',    bgS:'',       bdr:'#F0EAD6', sh:'0 0 0 2px #F0EAD6,4px 4px 16px rgba(0,0,0,.55)',              iC:'#F0EAD6', tC:'#F0EAD6', icon:'volume_up',    txt:'Den',    lbl:'Speaking',   ring:false, spin:false },
        error:      { bgC:'#7f1d1d', bgI:'none',    bgS:'',       bdr:'#dc2626', sh:'4px 4px 12px rgba(220,38,38,.5)',                              iC:'#F0EAD6', tC:'#F0EAD6', icon:'phone_missed', txt:'Error',  lbl:'Error',      ring:false, spin:false }
    };
    var c = cfg[state] || cfg.idle;
    btn.style.backgroundColor = c.bgC;
    btn.style.backgroundImage = c.bgI;
    btn.style.backgroundSize  = c.bgS;
    btn.style.borderColor     = c.bdr;
    btn.style.boxShadow       = c.sh;
    btn.style.animation       = c.spin ? 'vspin 1s linear infinite' : '';
    icon.textContent          = c.icon;
    icon.style.color          = c.iC;
    if (text) { text.textContent = c.txt; text.style.color = c.tC; }
    label.textContent         = c.lbl;
    label.style.display       = c.lbl ? 'block' : 'none';
    ring.style.display        = c.ring ? 'block' : 'none';
    if (state === 'error') {
        btn.style.animation = 'vshake .4s ease';
        btn.addEventListener('animationend', function(){ btn.style.animation = ''; }, { once: true });
    }
}

function syncVoicePos() {
    var bar = document.getElementById('cart-bar');
    var ui  = document.getElementById('voice-ui');
    if (!bar || !ui) return;
    ui.style.bottom = bar.classList.contains('translate-y-full') ? '18px' : (bar.offsetHeight + 18) + 'px';
}

var _origShow = window.showCartBar, _origHide = window.hideCartBar;
window.showCartBar = function() { _origShow && _origShow(); setTimeout(syncVoicePos, 320); };
window.hideCartBar = function() { _origHide && _origHide(); setTimeout(syncVoicePos, 320); };

// ── ElevenLabs Conversational AI ─────────────────────────────────────────────
var _active       = false;
var _conversation = null;

window.voiceToggle = function() {
    if (_active) { voiceStop(); } else { voiceStart(); }
};

window.voiceStop = function() {
    _active = false;
    if (_conversation) {
        _conversation.endSession().catch(function(){});
        _conversation = null;
    }
    setVoiceUI('idle');
};

function voiceStart() {
    _active = true;
    setVoiceUI('connecting');
    import('https://cdn.jsdelivr.net/npm/@elevenlabs/client/+esm')
    .then(function(mod) {
        return mod.Conversation.startSession({
            agentId: ELEVENLABS_AGENT_ID,
            onConnect:    function()  { setVoiceUI('listening'); },
            onDisconnect: function()  { if (_active) voiceStop(); },
            onError: function(msg) {
                console.error('[Voice]', msg);
                _conversation = null; _active = false;
                setVoiceUI('error');
                setTimeout(function(){ setVoiceUI('idle'); }, 3000);
            },
            onModeChange: function(d) {
                if (!_active) return;
                setVoiceUI(d.mode === 'speaking' ? 'speaking' : 'listening');
            },
            clientTools: {
                add_to_cart: function(p) {
                    if (typeof addToCart === 'function') addToCart(p.name, p.price);
                    return Promise.resolve('Added ' + p.name + ' to order');
                },
                remove_from_cart: function(p) {
                    var idx = cart.findIndex(function(i) {
                        return i.name.toLowerCase() === p.name.toLowerCase();
                    });
                    if (idx !== -1) {
                        removeFromCart(idx);
                        return Promise.resolve('Removed ' + p.name + ' from order');
                    }
                    return Promise.resolve(p.name + ' was not in the order');
                }
            }
        });
    })
    .then(function(conv) { _conversation = conv; })
    .catch(function(err) {
        console.error('[Voice]', err);
        _conversation = null; _active = false;
        setVoiceUI('error');
        setTimeout(function(){ setVoiceUI('idle'); }, 3000);
    });
}

})();
</script>

</body>
</html>
